name: "EF_SLSTM"
layer {
  name: "img"
  type: "Data"
  include { phase: TRAIN }
  transform_param {
    mean_value: 104.008
    mean_value: 116.669
    mean_value: 122.675
 }
 data_param {
    source: "../data/SALICON/lmdb/train_img_lmdb"
    batch_size: 1
    backend: LMDB
  }
  top: "img"
}
layer {
  name: "227img"
  type: "Data"
  include { phase: TRAIN }
  transform_param {
  crop_size: 227
    mean_file: "/home/nianliu/Deeplearning_codes/caffe/caffe-master/models/placesCNN/places205CNN_mean.binaryproto"
 }
 data_param {
    source: "../data/SALICON/lmdb/train_256img_lmdb"
    batch_size: 1
    backend: LMDB
  }
  top: "227img"
}
layer {
  name: "fix"
  type: "Data"
  include { phase: TRAIN }
 #transform_param { scale: 0.00392156862745098 }
 data_param {
    source: "../data/SALICON/lmdb/train_fix_lmdb"
    batch_size: 1
    backend: LMDB
  }
  top: "fix"
}
layer {
  name: "img"
  type: "Data"
  include { phase: TEST }
 transform_param {
    mean_value: 104.008
    mean_value: 116.669
    mean_value: 122.675
 }
 data_param {
    source: "../data/SALICON/lmdb/val_img_lmdb"
    batch_size: 1
    backend: LMDB
  }
  top: "img"
}
layer {
  name: "227img"
  type: "Data"
  include { phase: TEST }
  transform_param {
  crop_size: 227
    mean_file: "/home/nianliu/Deeplearning_codes/caffe/caffe-master/models/placesCNN/places205CNN_mean.binaryproto"
 }
 data_param {
    source: "../data/SALICON/lmdb/val_256img_lmdb"
    batch_size: 1
    backend: LMDB
  }
  top: "227img"
}
layer {
  name: "fix"
  type: "Data"
  include { phase: TEST }
 #transform_param { scale: 0.00392156862745098 }
 data_param {
    source: "../data/SALICON/lmdb/val_fix_lmdb"
    batch_size: 1
    backend: LMDB
  }
  top: "fix"
}
layer {
  name: "conv1_s"
  type: "Convolution"
  bottom: "227img"
  top: "conv1_s"
  param {
    lr_mult: 0.1
    decay_mult: 1
  }
  param {
    lr_mult: 0.2
    decay_mult: 0
  }
  convolution_param {
    num_output: 96
    kernel_size: 11
    stride: 4
    weight_filler {
      type: "gaussian"
      std: 0.01
    }
    bias_filler {
      type: "constant"
      value: 0
    }
  }
}
layer {
  name: "relu1"
  type: "ReLU"
  bottom: "conv1_s"
  top: "conv1_s"
}
layer {
  name: "pool1_s"
  type: "Pooling"
  bottom: "conv1_s"
  top: "pool1_s"
  pooling_param {
    pool: MAX
    kernel_size: 3
    stride: 2
  }
}
layer {
  name: "norm1"
  type: "LRN"
  bottom: "pool1_s"
  top: "norm1"
  lrn_param {
    local_size: 5
    alpha: 0.0001
    beta: 0.75
  }
}
layer {
  name: "conv2_s"
  type: "Convolution"
  bottom: "norm1"
  top: "conv2_s"
  param {
    lr_mult: 0.1
    decay_mult: 1
  }
  param {
    lr_mult: 0.2
    decay_mult: 0
  }
  convolution_param {
    num_output: 256
    pad: 2
    kernel_size: 5
    group: 2
    weight_filler {
      type: "gaussian"
      std: 0.01
    }
    bias_filler {
      type: "constant"
      value: 1
    }
  }
}
layer {
  name: "relu2"
  type: "ReLU"
  bottom: "conv2_s"
  top: "conv2_s"
}
layer {
  name: "pool2_s"
  type: "Pooling"
  bottom: "conv2_s"
  top: "pool2_s"
  pooling_param {
    pool: MAX
    kernel_size: 3
    stride: 2
  }
}
layer {
  name: "norm2"
  type: "LRN"
  bottom: "pool2_s"
  top: "norm2"
  lrn_param {
    local_size: 5
    alpha: 0.0001
    beta: 0.75
  }
}
layer {
  name: "conv3_s"
  type: "Convolution"
  bottom: "norm2"
  top: "conv3_s"
  param {
    lr_mult: 0.1
    decay_mult: 1
  }
  param {
    lr_mult: 0.2
    decay_mult: 0
  }
  convolution_param {
    num_output: 384
    pad: 1
    kernel_size: 3
    weight_filler {
      type: "gaussian"
      std: 0.01
    }
    bias_filler {
      type: "constant"
      value: 0
    }
  }
}
layer {
  name: "relu3"
  type: "ReLU"
  bottom: "conv3_s"
  top: "conv3_s"
}
layer {
  name: "conv4_s"
  type: "Convolution"
  bottom: "conv3_s"
  top: "conv4_s"
  param {
    lr_mult: 0.1
    decay_mult: 1
  }
  param {
    lr_mult: 0.2
    decay_mult: 0
  }
  convolution_param {
    num_output: 384
    pad: 1
    kernel_size: 3
    group: 2
    weight_filler {
      type: "gaussian"
      std: 0.01
    }
    bias_filler {
      type: "constant"
      value: 1
    }
  }
}
layer {
  name: "relu4"
  type: "ReLU"
  bottom: "conv4_s"
  top: "conv4_s"
}
layer {
  name: "conv5_s"
  type: "Convolution"
  bottom: "conv4_s"
  top: "conv5_s"
  param {
    lr_mult: 0.1
    decay_mult: 1
  }
  param {
    lr_mult: 0.2
    decay_mult: 0
  }
  convolution_param {
    num_output: 256
    pad: 1
    kernel_size: 3
    group: 2
    weight_filler {
      type: "gaussian"
      std: 0.01
    }
    bias_filler {
      type: "constant"
      value: 1
    }
  }
}
layer {
  name: "relu5"
  type: "ReLU"
  bottom: "conv5_s"
  top: "conv5_s"
}
layer {
  name: "pool5_s"
  type: "Pooling"
  bottom: "conv5_s"
  top: "pool5_s"
  pooling_param {
    pool: MAX
    kernel_size: 3
    stride: 2
  }
}
layer {
	bottom: "img"
	top: "conv1"
	name: "conv1"
	type: "Convolution"
  param {
    lr_mult: 0.1
    decay_mult: 1
  }
  param {
    lr_mult: 0.2
    decay_mult: 0
  }
	convolution_param {
		num_output: 64
		kernel_size: 7
		pad: 3
		stride: 2
	}
}

layer {
	bottom: "conv1"
	top: "conv1"
	name: "bn_conv1"
	type: "BatchNorm"
  param {
    lr_mult: 0
    decay_mult: 0
  }
  param {
    lr_mult: 0
    decay_mult: 0
  }
  param {
    lr_mult: 0
    decay_mult: 0
  }
  batch_norm_param {
    use_global_stats: true
  }
}

layer {
	bottom: "conv1"
	top: "conv1"
	name: "scale_conv1"
	type: "Scale"
  param {
    lr_mult: 0.1
  }
  param {
    lr_mult: 0.1
  }
	scale_param {
		bias_term: true
	}
}

layer {
	bottom: "conv1"
	top: "conv1"
	name: "conv1_relu"
	type: "ReLU"
}

layer {
	bottom: "conv1"
	top: "pool1"
	name: "pool1"
	type: "Pooling"
	pooling_param {
		kernel_size: 3
		stride: 2
		pool: MAX
	}
}

layer {
	bottom: "pool1"
	top: "res2a_branch1"
	name: "res2a_branch1"
	type: "Convolution"
  param {
    lr_mult: 0.1
    decay_mult: 1
  }
	convolution_param {
		num_output: 256
		kernel_size: 1
		pad: 0
		stride: 1
		bias_term: false
	}
}

layer {
	bottom: "res2a_branch1"
	top: "res2a_branch1"
	name: "bn2a_branch1"
	type: "BatchNorm"
  param {
    lr_mult: 0
    decay_mult: 0
  }
  param {
    lr_mult: 0
    decay_mult: 0
  }
  param {
    lr_mult: 0
    decay_mult: 0
  }
  batch_norm_param {
    use_global_stats: true
  }
}

layer {
	bottom: "res2a_branch1"
	top: "res2a_branch1"
	name: "scale2a_branch1"
	type: "Scale"
  param {
    lr_mult: 0.1
  }
  param {
    lr_mult: 0.1
  }
	scale_param {
		bias_term: true
	}
}

layer {
	bottom: "pool1"
	top: "res2a_branch2a"
	name: "res2a_branch2a"
	type: "Convolution"
  param {
    lr_mult: 0.1
    decay_mult: 1
  }
	convolution_param {
		num_output: 64
		kernel_size: 1
		pad: 0
		stride: 1
		bias_term: false
	}
}

layer {
	bottom: "res2a_branch2a"
	top: "res2a_branch2a"
	name: "bn2a_branch2a"
	type: "BatchNorm"
  param {
    lr_mult: 0
    decay_mult: 0
  }
  param {
    lr_mult: 0
    decay_mult: 0
  }
  param {
    lr_mult: 0
    decay_mult: 0
  }
  batch_norm_param {
    use_global_stats: true
  }
}
layer {
	bottom: "res2a_branch2a"
	top: "res2a_branch2a"
	name: "scale2a_branch2a"
	type: "Scale"
  param {
    lr_mult: 0.1
  }
  param {
    lr_mult: 0.1
  }
	scale_param {
		bias_term: true
	}
}

layer {
	bottom: "res2a_branch2a"
	top: "res2a_branch2a"
	name: "res2a_branch2a_relu"
	type: "ReLU"
}

layer {
	bottom: "res2a_branch2a"
	top: "res2a_branch2b"
	name: "res2a_branch2b"
	type: "Convolution"
  param {
    lr_mult: 0.1
    decay_mult: 1
  }
	convolution_param {
		num_output: 64
		kernel_size: 3
		pad: 1
		stride: 1
		bias_term: false
	}
}

layer {
	bottom: "res2a_branch2b"
	top: "res2a_branch2b"
	name: "bn2a_branch2b"
	type: "BatchNorm"
  param {
    lr_mult: 0
    decay_mult: 0
  }
  param {
    lr_mult: 0
    decay_mult: 0
  }
  param {
    lr_mult: 0
    decay_mult: 0
  }
  batch_norm_param {
    use_global_stats: true
  }
}

layer {
	bottom: "res2a_branch2b"
	top: "res2a_branch2b"
	name: "scale2a_branch2b"
	type: "Scale"
  param {
    lr_mult: 0.1
  }
  param {
    lr_mult: 0.1
  }
	scale_param {
		bias_term: true
	}
}

layer {
	bottom: "res2a_branch2b"
	top: "res2a_branch2b"
	name: "res2a_branch2b_relu"
	type: "ReLU"
}

layer {
	bottom: "res2a_branch2b"
	top: "res2a_branch2c"
	name: "res2a_branch2c"
	type: "Convolution"
  param {
    lr_mult: 0.1
    decay_mult: 1
  }
	convolution_param {
		num_output: 256
		kernel_size: 1
		pad: 0
		stride: 1
		bias_term: false
	}
}

layer {
	bottom: "res2a_branch2c"
	top: "res2a_branch2c"
	name: "bn2a_branch2c"
	type: "BatchNorm"
  param {
    lr_mult: 0
    decay_mult: 0
  }
  param {
    lr_mult: 0
    decay_mult: 0
  }
  param {
    lr_mult: 0
    decay_mult: 0
  }
  batch_norm_param {
    use_global_stats: true
  }
}

layer {
	bottom: "res2a_branch2c"
	top: "res2a_branch2c"
	name: "scale2a_branch2c"
	type: "Scale"
  param {
    lr_mult: 0.1
  }
  param {
    lr_mult: 0.1
  }
	scale_param {
		bias_term: true
	}
}

layer {
	bottom: "res2a_branch1"
	bottom: "res2a_branch2c"
	top: "res2a"
	name: "res2a"
	type: "Eltwise"
}

layer {
	bottom: "res2a"
	top: "res2a"
	name: "res2a_relu"
	type: "ReLU"
}

layer {
	bottom: "res2a"
	top: "res2b_branch2a"
	name: "res2b_branch2a"
	type: "Convolution"
  param {
    lr_mult: 0.1
    decay_mult: 1
  }
	convolution_param {
		num_output: 64
		kernel_size: 1
		pad: 0
		stride: 1
		bias_term: false
	}
}
layer {
	bottom: "res2b_branch2a"
	top: "res2b_branch2a"
	name: "bn2b_branch2a"
	type: "BatchNorm"
  param {
    lr_mult: 0
    decay_mult: 0
  }
  param {
    lr_mult: 0
    decay_mult: 0
  }
  param {
    lr_mult: 0
    decay_mult: 0
  }
  batch_norm_param {
    use_global_stats: true
  }
}


layer {
	bottom: "res2b_branch2a"
	top: "res2b_branch2a"
	name: "scale2b_branch2a"
	type: "Scale"
  param {
    lr_mult: 0.1
  }
  param {
    lr_mult: 0.1
  }
	scale_param {
		bias_term: true
	}
}

layer {
	bottom: "res2b_branch2a"
	top: "res2b_branch2a"
	name: "res2b_branch2a_relu"
	type: "ReLU"
}

layer {
	bottom: "res2b_branch2a"
	top: "res2b_branch2b"
	name: "res2b_branch2b"
	type: "Convolution"
  param {
    lr_mult: 0.1
    decay_mult: 1
  }
	convolution_param {
		num_output: 64
		kernel_size: 3
		pad: 1
		stride: 1
		bias_term: false
	}
}

layer {
	bottom: "res2b_branch2b"
	top: "res2b_branch2b"
	name: "bn2b_branch2b"
	type: "BatchNorm"
  param {
    lr_mult: 0
    decay_mult: 0
  }
  param {
    lr_mult: 0
    decay_mult: 0
  }
  param {
    lr_mult: 0
    decay_mult: 0
  }
  batch_norm_param {
    use_global_stats: true
  }
}

layer {
	bottom: "res2b_branch2b"
	top: "res2b_branch2b"
	name: "scale2b_branch2b"
	type: "Scale"
  param {
    lr_mult: 0.1
  }
  param {
    lr_mult: 0.1
  }
	scale_param {
		bias_term: true
	}
}

layer {
	bottom: "res2b_branch2b"
	top: "res2b_branch2b"
	name: "res2b_branch2b_relu"
	type: "ReLU"
}

layer {
	bottom: "res2b_branch2b"
	top: "res2b_branch2c"
	name: "res2b_branch2c"
	type: "Convolution"
  param {
    lr_mult: 0.1
    decay_mult: 1
  }
	convolution_param {
		num_output: 256
		kernel_size: 1
		pad: 0
		stride: 1
		bias_term: false
	}
}

layer {
	bottom: "res2b_branch2c"
	top: "res2b_branch2c"
	name: "bn2b_branch2c"
	type: "BatchNorm"
  param {
    lr_mult: 0
    decay_mult: 0
  }
  param {
    lr_mult: 0
    decay_mult: 0
  }
  param {
    lr_mult: 0
    decay_mult: 0
  }
  batch_norm_param {
    use_global_stats: true
  }
}

layer {
	bottom: "res2b_branch2c"
	top: "res2b_branch2c"
	name: "scale2b_branch2c"
	type: "Scale"
  param {
    lr_mult: 0.1
  }
  param {
    lr_mult: 0.1
  }
	scale_param {
		bias_term: true
	}
}

layer {
	bottom: "res2a"
	bottom: "res2b_branch2c"
	top: "res2b"
	name: "res2b"
	type: "Eltwise"
}

layer {
	bottom: "res2b"
	top: "res2b"
	name: "res2b_relu"
	type: "ReLU"
}

layer {
	bottom: "res2b"
	top: "res2c_branch2a"
	name: "res2c_branch2a"
	type: "Convolution"
  param {
    lr_mult: 0.1
    decay_mult: 1
  }
	convolution_param {
		num_output: 64
		kernel_size: 1
		pad: 0
		stride: 1
		bias_term: false
	}
}

layer {
	bottom: "res2c_branch2a"
	top: "res2c_branch2a"
	name: "bn2c_branch2a"
	type: "BatchNorm"
  param {
    lr_mult: 0
    decay_mult: 0
  }
  param {
    lr_mult: 0
    decay_mult: 0
  }
  param {
    lr_mult: 0
    decay_mult: 0
  }
  batch_norm_param {
    use_global_stats: true
  }
}

layer {
	bottom: "res2c_branch2a"
	top: "res2c_branch2a"
	name: "scale2c_branch2a"
	type: "Scale"
  param {
    lr_mult: 0.1
  }
  param {
    lr_mult: 0.1
  }
	scale_param {
		bias_term: true
	}
}

layer {
	bottom: "res2c_branch2a"
	top: "res2c_branch2a"
	name: "res2c_branch2a_relu"
	type: "ReLU"
}

layer {
	bottom: "res2c_branch2a"
	top: "res2c_branch2b"
	name: "res2c_branch2b"
	type: "Convolution"
  param {
    lr_mult: 0.1
    decay_mult: 1
  }
	convolution_param {
		num_output: 64
		kernel_size: 3
		pad: 1
		stride: 1
		bias_term: false
	}
}

layer {
	bottom: "res2c_branch2b"
	top: "res2c_branch2b"
	name: "bn2c_branch2b"
	type: "BatchNorm"
  param {
    lr_mult: 0
    decay_mult: 0
  }
  param {
    lr_mult: 0
    decay_mult: 0
  }
  param {
    lr_mult: 0
    decay_mult: 0
  }
  batch_norm_param {
    use_global_stats: true
  }
}

layer {
	bottom: "res2c_branch2b"
	top: "res2c_branch2b"
	name: "scale2c_branch2b"
	type: "Scale"
  param {
    lr_mult: 0.1
  }
  param {
    lr_mult: 0.1
  }
	scale_param {
		bias_term: true
	}
}

layer {
	bottom: "res2c_branch2b"
	top: "res2c_branch2b"
	name: "res2c_branch2b_relu"
	type: "ReLU"
}

layer {
	bottom: "res2c_branch2b"
	top: "res2c_branch2c"
	name: "res2c_branch2c"
	type: "Convolution"
  param {
    lr_mult: 0.1
    decay_mult: 1
  }
	convolution_param {
		num_output: 256
		kernel_size: 1
		pad: 0
		stride: 1
		bias_term: false
	}
}

layer {
	bottom: "res2c_branch2c"
	top: "res2c_branch2c"
	name: "bn2c_branch2c"
	type: "BatchNorm"
  param {
    lr_mult: 0
    decay_mult: 0
  }
  param {
    lr_mult: 0
    decay_mult: 0
  }
  param {
    lr_mult: 0
    decay_mult: 0
  }
  batch_norm_param {
    use_global_stats: true
  }
}

layer {
	bottom: "res2c_branch2c"
	top: "res2c_branch2c"
	name: "scale2c_branch2c"
	type: "Scale"
  param {
    lr_mult: 0.1
  }
  param {
    lr_mult: 0.1
  }
	scale_param {
		bias_term: true
	}
}

layer {
	bottom: "res2b"
	bottom: "res2c_branch2c"
	top: "res2c"
	name: "res2c"
	type: "Eltwise"
}

layer {
	bottom: "res2c"
	top: "res2c"
	name: "res2c_relu"
	type: "ReLU"
}

layer {
	bottom: "res2c"
	top: "res3a_branch1"
	name: "res3a_branch1"
	type: "Convolution"
  param {
    lr_mult: 0.1
    decay_mult: 1
  }
	convolution_param {
		num_output: 512
		kernel_size: 1
		pad: 0
		stride: 2
		bias_term: false
	}
}

layer {
	bottom: "res3a_branch1"
	top: "res3a_branch1"
	name: "bn3a_branch1"
	type: "BatchNorm"
  param {
    lr_mult: 0
    decay_mult: 0
  }
  param {
    lr_mult: 0
    decay_mult: 0
  }
  param {
    lr_mult: 0
    decay_mult: 0
  }
  batch_norm_param {
    use_global_stats: true
  }
}

layer {
	bottom: "res3a_branch1"
	top: "res3a_branch1"
	name: "scale3a_branch1"
	type: "Scale"
  param {
    lr_mult: 0.1
  }
  param {
    lr_mult: 0.1
  }
	scale_param {
		bias_term: true
	}
}

layer {
	bottom: "res2c"
	top: "res3a_branch2a"
	name: "res3a_branch2a"
	type: "Convolution"
  param {
    lr_mult: 0.1
    decay_mult: 1
  }
	convolution_param {
		num_output: 128
		kernel_size: 1
		pad: 0
		stride: 2
		bias_term: false
	}
}

layer {
	bottom: "res3a_branch2a"
	top: "res3a_branch2a"
	name: "bn3a_branch2a"
	type: "BatchNorm"
  param {
    lr_mult: 0
    decay_mult: 0
  }
  param {
    lr_mult: 0
    decay_mult: 0
  }
  param {
    lr_mult: 0
    decay_mult: 0
  }
  batch_norm_param {
    use_global_stats: true
  }
}

layer {
	bottom: "res3a_branch2a"
	top: "res3a_branch2a"
	name: "scale3a_branch2a"
	type: "Scale"
  param {
    lr_mult: 0.1
  }
  param {
    lr_mult: 0.1
  }
	scale_param {
		bias_term: true
	}
}

layer {
	bottom: "res3a_branch2a"
	top: "res3a_branch2a"
	name: "res3a_branch2a_relu"
	type: "ReLU"
}

layer {
	bottom: "res3a_branch2a"
	top: "res3a_branch2b"
	name: "res3a_branch2b"
	type: "Convolution"
  param {
    lr_mult: 0.1
    decay_mult: 1
  }
	convolution_param {
		num_output: 128
		kernel_size: 3
		pad: 1
		stride: 1
		bias_term: false
	}
}

layer {
	bottom: "res3a_branch2b"
	top: "res3a_branch2b"
	name: "bn3a_branch2b"
	type: "BatchNorm"
  param {
    lr_mult: 0
    decay_mult: 0
  }
  param {
    lr_mult: 0
    decay_mult: 0
  }
  param {
    lr_mult: 0
    decay_mult: 0
  }
  batch_norm_param {
    use_global_stats: true
  }
}

layer {
	bottom: "res3a_branch2b"
	top: "res3a_branch2b"
	name: "scale3a_branch2b"
	type: "Scale"
  param {
    lr_mult: 0.1
  }
  param {
    lr_mult: 0.1
  }
	scale_param {
		bias_term: true
	}
}

layer {
	bottom: "res3a_branch2b"
	top: "res3a_branch2b"
	name: "res3a_branch2b_relu"
	type: "ReLU"
}

layer {
	bottom: "res3a_branch2b"
	top: "res3a_branch2c"
	name: "res3a_branch2c"
	type: "Convolution"
  param {
    lr_mult: 0.1
    decay_mult: 1
  }
	convolution_param {
		num_output: 512
		kernel_size: 1
		pad: 0
		stride: 1
		bias_term: false
	}
}

layer {
	bottom: "res3a_branch2c"
	top: "res3a_branch2c"
	name: "bn3a_branch2c"
	type: "BatchNorm"
  param {
    lr_mult: 0
    decay_mult: 0
  }
  param {
    lr_mult: 0
    decay_mult: 0
  }
  param {
    lr_mult: 0
    decay_mult: 0
  }
  batch_norm_param {
    use_global_stats: true
  }
}

layer {
	bottom: "res3a_branch2c"
	top: "res3a_branch2c"
	name: "scale3a_branch2c"
	type: "Scale"
  param {
    lr_mult: 0.1
  }
  param {
    lr_mult: 0.1
  }
	scale_param {
		bias_term: true
	}
}

layer {
	bottom: "res3a_branch1"
	bottom: "res3a_branch2c"
	top: "res3a"
	name: "res3a"
	type: "Eltwise"
}

layer {
	bottom: "res3a"
	top: "res3a"
	name: "res3a_relu"
	type: "ReLU"
}

layer {
	bottom: "res3a"
	top: "res3b_branch2a"
	name: "res3b_branch2a"
	type: "Convolution"
  param {
    lr_mult: 0.1
    decay_mult: 1
  }
	convolution_param {
		num_output: 128
		kernel_size: 1
		pad: 0
		stride: 1
		bias_term: false
	}
}

layer {
	bottom: "res3b_branch2a"
	top: "res3b_branch2a"
	name: "bn3b_branch2a"
	type: "BatchNorm"
  param {
    lr_mult: 0
    decay_mult: 0
  }
  param {
    lr_mult: 0
    decay_mult: 0
  }
  param {
    lr_mult: 0
    decay_mult: 0
  }
  batch_norm_param {
    use_global_stats: true
  }
}

layer {
	bottom: "res3b_branch2a"
	top: "res3b_branch2a"
	name: "scale3b_branch2a"
	type: "Scale"
  param {
    lr_mult: 0.1
  }
  param {
    lr_mult: 0.1
  }
	scale_param {
		bias_term: true
	}
}

layer {
	bottom: "res3b_branch2a"
	top: "res3b_branch2a"
	name: "res3b_branch2a_relu"
	type: "ReLU"
}

layer {
	bottom: "res3b_branch2a"
	top: "res3b_branch2b"
	name: "res3b_branch2b"
	type: "Convolution"
  param {
    lr_mult: 0.1
    decay_mult: 1
  }
	convolution_param {
		num_output: 128
		kernel_size: 3
		pad: 1
		stride: 1
		bias_term: false
	}
}

layer {
	bottom: "res3b_branch2b"
	top: "res3b_branch2b"
	name: "bn3b_branch2b"
	type: "BatchNorm"
  param {
    lr_mult: 0
    decay_mult: 0
  }
  param {
    lr_mult: 0
    decay_mult: 0
  }
  param {
    lr_mult: 0
    decay_mult: 0
  }
  batch_norm_param {
    use_global_stats: true
  }
}

layer {
	bottom: "res3b_branch2b"
	top: "res3b_branch2b"
	name: "scale3b_branch2b"
	type: "Scale"
  param {
    lr_mult: 0.1
  }
  param {
    lr_mult: 0.1
  }
	scale_param {
		bias_term: true
	}
}

layer {
	bottom: "res3b_branch2b"
	top: "res3b_branch2b"
	name: "res3b_branch2b_relu"
	type: "ReLU"
}

layer {
	bottom: "res3b_branch2b"
	top: "res3b_branch2c"
	name: "res3b_branch2c"
	type: "Convolution"
  param {
    lr_mult: 0.1
    decay_mult: 1
  }
	convolution_param {
		num_output: 512
		kernel_size: 1
		pad: 0
		stride: 1
		bias_term: false
	}
}

layer {
	bottom: "res3b_branch2c"
	top: "res3b_branch2c"
	name: "bn3b_branch2c"
	type: "BatchNorm"
  param {
    lr_mult: 0
    decay_mult: 0
  }
  param {
    lr_mult: 0
    decay_mult: 0
  }
  param {
    lr_mult: 0
    decay_mult: 0
  }
  batch_norm_param {
    use_global_stats: true
  }
}

layer {
	bottom: "res3b_branch2c"
	top: "res3b_branch2c"
	name: "scale3b_branch2c"
	type: "Scale"
  param {
    lr_mult: 0.1
  }
  param {
    lr_mult: 0.1
  }
	scale_param {
		bias_term: true
	}
}

layer {
	bottom: "res3a"
	bottom: "res3b_branch2c"
	top: "res3b"
	name: "res3b"
	type: "Eltwise"
}

layer {
	bottom: "res3b"
	top: "res3b"
	name: "res3b_relu"
	type: "ReLU"
}

layer {
	bottom: "res3b"
	top: "res3c_branch2a"
	name: "res3c_branch2a"
	type: "Convolution"
  param {
    lr_mult: 0.1
    decay_mult: 1
  }
	convolution_param {
		num_output: 128
		kernel_size: 1
		pad: 0
		stride: 1
		bias_term: false
	}
}

layer {
	bottom: "res3c_branch2a"
	top: "res3c_branch2a"
	name: "bn3c_branch2a"
	type: "BatchNorm"
  param {
    lr_mult: 0
    decay_mult: 0
  }
  param {
    lr_mult: 0
    decay_mult: 0
  }
  param {
    lr_mult: 0
    decay_mult: 0
  }
  batch_norm_param {
    use_global_stats: true
  }
}

layer {
	bottom: "res3c_branch2a"
	top: "res3c_branch2a"
	name: "scale3c_branch2a"
	type: "Scale"
  param {
    lr_mult: 0.1
  }
  param {
    lr_mult: 0.1
  }
	scale_param {
		bias_term: true
	}
}

layer {
	bottom: "res3c_branch2a"
	top: "res3c_branch2a"
	name: "res3c_branch2a_relu"
	type: "ReLU"
}

layer {
	bottom: "res3c_branch2a"
	top: "res3c_branch2b"
	name: "res3c_branch2b"
	type: "Convolution"
  param {
    lr_mult: 0.1
    decay_mult: 1
  }
	convolution_param {
		num_output: 128
		kernel_size: 3
		pad: 1
		stride: 1
		bias_term: false
	}
}

layer {
	bottom: "res3c_branch2b"
	top: "res3c_branch2b"
	name: "bn3c_branch2b"
	type: "BatchNorm"
  param {
    lr_mult: 0
    decay_mult: 0
  }
  param {
    lr_mult: 0
    decay_mult: 0
  }
  param {
    lr_mult: 0
    decay_mult: 0
  }
  batch_norm_param {
    use_global_stats: true
  }
}

layer {
	bottom: "res3c_branch2b"
	top: "res3c_branch2b"
	name: "scale3c_branch2b"
	type: "Scale"
  param {
    lr_mult: 0.1
  }
  param {
    lr_mult: 0.1
  }
	scale_param {
		bias_term: true
	}
}

layer {
	bottom: "res3c_branch2b"
	top: "res3c_branch2b"
	name: "res3c_branch2b_relu"
	type: "ReLU"
}

layer {
	bottom: "res3c_branch2b"
	top: "res3c_branch2c"
	name: "res3c_branch2c"
	type: "Convolution"
  param {
    lr_mult: 0.1
    decay_mult: 1
  }
	convolution_param {
		num_output: 512
		kernel_size: 1
		pad: 0
		stride: 1
		bias_term: false
	}
}

layer {
	bottom: "res3c_branch2c"
	top: "res3c_branch2c"
	name: "bn3c_branch2c"
	type: "BatchNorm"
  param {
    lr_mult: 0
    decay_mult: 0
  }
  param {
    lr_mult: 0
    decay_mult: 0
  }
  param {
    lr_mult: 0
    decay_mult: 0
  }
  batch_norm_param {
    use_global_stats: true
  }
}

layer {
	bottom: "res3c_branch2c"
	top: "res3c_branch2c"
	name: "scale3c_branch2c"
	type: "Scale"
  param {
    lr_mult: 0.1
  }
  param {
    lr_mult: 0.1
  }
	scale_param {
		bias_term: true
	}
}

layer {
	bottom: "res3b"
	bottom: "res3c_branch2c"
	top: "res3c"
	name: "res3c"
	type: "Eltwise"
}

layer {
	bottom: "res3c"
	top: "res3c"
	name: "res3c_relu"
	type: "ReLU"
}

layer {
	bottom: "res3c"
	top: "res3d_branch2a"
	name: "res3d_branch2a"
	type: "Convolution"
  param {
    lr_mult: 0.1
    decay_mult: 1
  }
	convolution_param {
		num_output: 128
		kernel_size: 1
		pad: 0
		stride: 1
		bias_term: false
	}
}

layer {
	bottom: "res3d_branch2a"
	top: "res3d_branch2a"
	name: "bn3d_branch2a"
	type: "BatchNorm"
  param {
    lr_mult: 0
    decay_mult: 0
  }
  param {
    lr_mult: 0
    decay_mult: 0
  }
  param {
    lr_mult: 0
    decay_mult: 0
  }
  batch_norm_param {
    use_global_stats: true
  }
}

layer {
	bottom: "res3d_branch2a"
	top: "res3d_branch2a"
	name: "scale3d_branch2a"
	type: "Scale"
  param {
    lr_mult: 0.1
  }
  param {
    lr_mult: 0.1
  }
	scale_param {
		bias_term: true
	}
}

layer {
	bottom: "res3d_branch2a"
	top: "res3d_branch2a"
	name: "res3d_branch2a_relu"
	type: "ReLU"
}

layer {
	bottom: "res3d_branch2a"
	top: "res3d_branch2b"
	name: "res3d_branch2b"
	type: "Convolution"
  param {
    lr_mult: 0.1
    decay_mult: 1
  }
	convolution_param {
		num_output: 128
		kernel_size: 3
		pad: 1
		stride: 1
		bias_term: false
	}
}

layer {
	bottom: "res3d_branch2b"
	top: "res3d_branch2b"
	name: "bn3d_branch2b"
	type: "BatchNorm"
  param {
    lr_mult: 0
    decay_mult: 0
  }
  param {
    lr_mult: 0
    decay_mult: 0
  }
  param {
    lr_mult: 0
    decay_mult: 0
  }
  batch_norm_param {
    use_global_stats: true
  }
}

layer {
	bottom: "res3d_branch2b"
	top: "res3d_branch2b"
	name: "scale3d_branch2b"
	type: "Scale"
  param {
    lr_mult: 0.1
  }
  param {
    lr_mult: 0.1
  }
	scale_param {
		bias_term: true
	}
}

layer {
	bottom: "res3d_branch2b"
	top: "res3d_branch2b"
	name: "res3d_branch2b_relu"
	type: "ReLU"
}

layer {
	bottom: "res3d_branch2b"
	top: "res3d_branch2c"
	name: "res3d_branch2c"
	type: "Convolution"
  param {
    lr_mult: 0.1
    decay_mult: 1
  }
	convolution_param {
		num_output: 512
		kernel_size: 1
		pad: 0
		stride: 1
		bias_term: false
	}
}

layer {
	bottom: "res3d_branch2c"
	top: "res3d_branch2c"
	name: "bn3d_branch2c"
	type: "BatchNorm"
  param {
    lr_mult: 0
    decay_mult: 0
  }
  param {
    lr_mult: 0
    decay_mult: 0
  }
  param {
    lr_mult: 0
    decay_mult: 0
  }
  batch_norm_param {
    use_global_stats: true
  }
}

layer {
	bottom: "res3d_branch2c"
	top: "res3d_branch2c"
	name: "scale3d_branch2c"
	type: "Scale"
  param {
    lr_mult: 0.1
  }
  param {
    lr_mult: 0.1
  }
	scale_param {
		bias_term: true
	}
}

layer {
	bottom: "res3c"
	bottom: "res3d_branch2c"
	top: "res3d"
	name: "res3d"
	type: "Eltwise"
}

layer {
	bottom: "res3d"
	top: "res3d"
	name: "res3d_relu"
	type: "ReLU"
}

layer {
	bottom: "res3d"
	top: "res4a_branch1"
	name: "res4a_branch1"
	type: "Convolution"
  param {
    lr_mult: 0.1
    decay_mult: 1
  }
	convolution_param {
		num_output: 1024
		kernel_size: 1
		pad: 0
		stride: 1
		bias_term: false
	}
}

layer {
	bottom: "res4a_branch1"
	top: "res4a_branch1"
	name: "bn4a_branch1"
	type: "BatchNorm"
  param {
    lr_mult: 0
    decay_mult: 0
  }
  param {
    lr_mult: 0
    decay_mult: 0
  }
  param {
    lr_mult: 0
    decay_mult: 0
  }
  batch_norm_param {
    use_global_stats: true
  }
}

layer {
	bottom: "res4a_branch1"
	top: "res4a_branch1"
	name: "scale4a_branch1"
	type: "Scale"
  param {
    lr_mult: 0.1
  }
  param {
    lr_mult: 0.1
  }
	scale_param {
		bias_term: true
	}
}

layer {
	bottom: "res3d"
	top: "res4a_branch2a"
	name: "res4a_branch2a"
	type: "Convolution"
  param {
    lr_mult: 0.1
    decay_mult: 1
  }
	convolution_param {
		num_output: 256
		kernel_size: 1
		pad: 0
		stride: 1
		bias_term: false
	}
}

layer {
	bottom: "res4a_branch2a"
	top: "res4a_branch2a"
	name: "bn4a_branch2a"
	type: "BatchNorm"
  param {
    lr_mult: 0
    decay_mult: 0
  }
  param {
    lr_mult: 0
    decay_mult: 0
  }
  param {
    lr_mult: 0
    decay_mult: 0
  }
  batch_norm_param {
    use_global_stats: true
  }
}

layer {
	bottom: "res4a_branch2a"
	top: "res4a_branch2a"
	name: "scale4a_branch2a"
	type: "Scale"
  param {
    lr_mult: 0.1
  }
  param {
    lr_mult: 0.1
  }
	scale_param {
		bias_term: true
	}
}

layer {
	bottom: "res4a_branch2a"
	top: "res4a_branch2a"
	name: "res4a_branch2a_relu"
	type: "ReLU"
}

layer {
	bottom: "res4a_branch2a"
	top: "res4a_branch2b"
	name: "res4a_branch2b"
	type: "Convolution"
  param {
    lr_mult: 0.1
    decay_mult: 1
  }
	convolution_param {
		num_output: 256
		kernel_size: 3
		pad: 2
		stride: 1
		dilation: 2
		bias_term: false
	}
}

layer {
	bottom: "res4a_branch2b"
	top: "res4a_branch2b"
	name: "bn4a_branch2b"
	type: "BatchNorm"
  param {
    lr_mult: 0
    decay_mult: 0
  }
  param {
    lr_mult: 0
    decay_mult: 0
  }
  param {
    lr_mult: 0
    decay_mult: 0
  }
  batch_norm_param {
    use_global_stats: true
  }
}

layer {
	bottom: "res4a_branch2b"
	top: "res4a_branch2b"
	name: "scale4a_branch2b"
	type: "Scale"
  param {
    lr_mult: 0.1
  }
  param {
    lr_mult: 0.1
  }
	scale_param {
		bias_term: true
	}
}

layer {
	bottom: "res4a_branch2b"
	top: "res4a_branch2b"
	name: "res4a_branch2b_relu"
	type: "ReLU"
}

layer {
	bottom: "res4a_branch2b"
	top: "res4a_branch2c"
	name: "res4a_branch2c"
	type: "Convolution"
  param {
    lr_mult: 0.1
    decay_mult: 1
  }
	convolution_param {
		num_output: 1024
		kernel_size: 1
		pad: 0
		stride: 1
		bias_term: false
	}
}

layer {
	bottom: "res4a_branch2c"
	top: "res4a_branch2c"
	name: "bn4a_branch2c"
	type: "BatchNorm"
  param {
    lr_mult: 0
    decay_mult: 0
  }
  param {
    lr_mult: 0
    decay_mult: 0
  }
  param {
    lr_mult: 0
    decay_mult: 0
  }
  batch_norm_param {
    use_global_stats: true
  }
}

layer {
	bottom: "res4a_branch2c"
	top: "res4a_branch2c"
	name: "scale4a_branch2c"
	type: "Scale"
  param {
    lr_mult: 0.1
  }
  param {
    lr_mult: 0.1
  }
	scale_param {
		bias_term: true
	}
}

layer {
	bottom: "res4a_branch1"
	bottom: "res4a_branch2c"
	top: "res4a"
	name: "res4a"
	type: "Eltwise"
}

layer {
	bottom: "res4a"
	top: "res4a"
	name: "res4a_relu"
	type: "ReLU"
}

layer {
	bottom: "res4a"
	top: "res4b_branch2a"
	name: "res4b_branch2a"
	type: "Convolution"
  param {
    lr_mult: 0.1
    decay_mult: 1
  }
	convolution_param {
		num_output: 256
		kernel_size: 1
		pad: 0
		stride: 1
		bias_term: false
	}
}

layer {
	bottom: "res4b_branch2a"
	top: "res4b_branch2a"
	name: "bn4b_branch2a"
	type: "BatchNorm"
  param {
    lr_mult: 0
    decay_mult: 0
  }
  param {
    lr_mult: 0
    decay_mult: 0
  }
  param {
    lr_mult: 0
    decay_mult: 0
  }
  batch_norm_param {
    use_global_stats: true
  }
}

layer {
	bottom: "res4b_branch2a"
	top: "res4b_branch2a"
	name: "scale4b_branch2a"
	type: "Scale"
  param {
    lr_mult: 0.1
  }
  param {
    lr_mult: 0.1
  }
	scale_param {
		bias_term: true
	}
}

layer {
	bottom: "res4b_branch2a"
	top: "res4b_branch2a"
	name: "res4b_branch2a_relu"
	type: "ReLU"
}

layer {
	bottom: "res4b_branch2a"
	top: "res4b_branch2b"
	name: "res4b_branch2b"
	type: "Convolution"
  param {
    lr_mult: 0.1
    decay_mult: 1
  }
	convolution_param {
		num_output: 256
		kernel_size: 3
		pad: 2
		stride: 1
		dilation: 2
		bias_term: false
	}
}

layer {
	bottom: "res4b_branch2b"
	top: "res4b_branch2b"
	name: "bn4b_branch2b"
	type: "BatchNorm"
  param {
    lr_mult: 0
    decay_mult: 0
  }
  param {
    lr_mult: 0
    decay_mult: 0
  }
  param {
    lr_mult: 0
    decay_mult: 0
  }
  batch_norm_param {
    use_global_stats: true
  }
}

layer {
	bottom: "res4b_branch2b"
	top: "res4b_branch2b"
	name: "scale4b_branch2b"
	type: "Scale"
  param {
    lr_mult: 0.1
  }
  param {
    lr_mult: 0.1
  }
	scale_param {
		bias_term: true
	}
}

layer {
	bottom: "res4b_branch2b"
	top: "res4b_branch2b"
	name: "res4b_branch2b_relu"
	type: "ReLU"
}

layer {
	bottom: "res4b_branch2b"
	top: "res4b_branch2c"
	name: "res4b_branch2c"
	type: "Convolution"
  param {
    lr_mult: 0.1
    decay_mult: 1
  }
	convolution_param {
		num_output: 1024
		kernel_size: 1
		pad: 0
		stride: 1
		bias_term: false
	}
}

layer {
	bottom: "res4b_branch2c"
	top: "res4b_branch2c"
	name: "bn4b_branch2c"
	type: "BatchNorm"
  param {
    lr_mult: 0
    decay_mult: 0
  }
  param {
    lr_mult: 0
    decay_mult: 0
  }
  param {
    lr_mult: 0
    decay_mult: 0
  }
  batch_norm_param {
    use_global_stats: true
  }
}

layer {
	bottom: "res4b_branch2c"
	top: "res4b_branch2c"
	name: "scale4b_branch2c"
	type: "Scale"
  param {
    lr_mult: 0.1
  }
  param {
    lr_mult: 0.1
  }
	scale_param {
		bias_term: true
	}
}

layer {
	bottom: "res4a"
	bottom: "res4b_branch2c"
	top: "res4b"
	name: "res4b"
	type: "Eltwise"
}

layer {
	bottom: "res4b"
	top: "res4b"
	name: "res4b_relu"
	type: "ReLU"
}

layer {
	bottom: "res4b"
	top: "res4c_branch2a"
	name: "res4c_branch2a"
	type: "Convolution"
  param {
    lr_mult: 0.1
    decay_mult: 1
  }
	convolution_param {
		num_output: 256
		kernel_size: 1
		pad: 0
		stride: 1
		bias_term: false
	}
}

layer {
	bottom: "res4c_branch2a"
	top: "res4c_branch2a"
	name: "bn4c_branch2a"
	type: "BatchNorm"
  param {
    lr_mult: 0
    decay_mult: 0
  }
  param {
    lr_mult: 0
    decay_mult: 0
  }
  param {
    lr_mult: 0
    decay_mult: 0
  }
  batch_norm_param {
    use_global_stats: true
  }
}

layer {
	bottom: "res4c_branch2a"
	top: "res4c_branch2a"
	name: "scale4c_branch2a"
	type: "Scale"
  param {
    lr_mult: 0.1
  }
  param {
    lr_mult: 0.1
  }
	scale_param {
		bias_term: true
	}
}

layer {
	bottom: "res4c_branch2a"
	top: "res4c_branch2a"
	name: "res4c_branch2a_relu"
	type: "ReLU"
}

layer {
	bottom: "res4c_branch2a"
	top: "res4c_branch2b"
	name: "res4c_branch2b"
	type: "Convolution"
  param {
    lr_mult: 0.1
    decay_mult: 1
  }
	convolution_param {
		num_output: 256
		kernel_size: 3
		pad: 2
		stride: 1
		dilation: 2
		bias_term: false
	}
}

layer {
	bottom: "res4c_branch2b"
	top: "res4c_branch2b"
	name: "bn4c_branch2b"
	type: "BatchNorm"
  param {
    lr_mult: 0
    decay_mult: 0
  }
  param {
    lr_mult: 0
    decay_mult: 0
  }
  param {
    lr_mult: 0
    decay_mult: 0
  }
  batch_norm_param {
    use_global_stats: true
  }
}

layer {
	bottom: "res4c_branch2b"
	top: "res4c_branch2b"
	name: "scale4c_branch2b"
	type: "Scale"
  param {
    lr_mult: 0.1
  }
  param {
    lr_mult: 0.1
  }
	scale_param {
		bias_term: true
	}
}

layer {
	bottom: "res4c_branch2b"
	top: "res4c_branch2b"
	name: "res4c_branch2b_relu"
	type: "ReLU"
}

layer {
	bottom: "res4c_branch2b"
	top: "res4c_branch2c"
	name: "res4c_branch2c"
	type: "Convolution"
  param {
    lr_mult: 0.1
    decay_mult: 1
  }
	convolution_param {
		num_output: 1024
		kernel_size: 1
		pad: 0
		stride: 1
		bias_term: false
	}
}

layer {
	bottom: "res4c_branch2c"
	top: "res4c_branch2c"
	name: "bn4c_branch2c"
	type: "BatchNorm"
  param {
    lr_mult: 0
    decay_mult: 0
  }
  param {
    lr_mult: 0
    decay_mult: 0
  }
  param {
    lr_mult: 0
    decay_mult: 0
  }
  batch_norm_param {
    use_global_stats: true
  }
}

layer {
	bottom: "res4c_branch2c"
	top: "res4c_branch2c"
	name: "scale4c_branch2c"
	type: "Scale"
  param {
    lr_mult: 0.1
  }
  param {
    lr_mult: 0.1
  }
	scale_param {
		bias_term: true
	}
}

layer {
	bottom: "res4b"
	bottom: "res4c_branch2c"
	top: "res4c"
	name: "res4c"
	type: "Eltwise"
}

layer {
	bottom: "res4c"
	top: "res4c"
	name: "res4c_relu"
	type: "ReLU"
}

layer {
	bottom: "res4c"
	top: "res4d_branch2a"
	name: "res4d_branch2a"
	type: "Convolution"
  param {
    lr_mult: 0.1
    decay_mult: 1
  }
	convolution_param {
		num_output: 256
		kernel_size: 1
		pad: 0
		stride: 1
		bias_term: false
	}
}

layer {
	bottom: "res4d_branch2a"
	top: "res4d_branch2a"
	name: "bn4d_branch2a"
	type: "BatchNorm"
  param {
    lr_mult: 0
    decay_mult: 0
  }
  param {
    lr_mult: 0
    decay_mult: 0
  }
  param {
    lr_mult: 0
    decay_mult: 0
  }
  batch_norm_param {
    use_global_stats: true
  }
}

layer {
	bottom: "res4d_branch2a"
	top: "res4d_branch2a"
	name: "scale4d_branch2a"
	type: "Scale"
  param {
    lr_mult: 0.1
  }
  param {
    lr_mult: 0.1
  }
	scale_param {
		bias_term: true
	}
}

layer {
	bottom: "res4d_branch2a"
	top: "res4d_branch2a"
	name: "res4d_branch2a_relu"
	type: "ReLU"
}

layer {
	bottom: "res4d_branch2a"
	top: "res4d_branch2b"
	name: "res4d_branch2b"
	type: "Convolution"
  param {
    lr_mult: 0.1
    decay_mult: 1
  }
	convolution_param {
		num_output: 256
		kernel_size: 3
		pad: 2
		stride: 1
		dilation: 2
		bias_term: false
	}
}

layer {
	bottom: "res4d_branch2b"
	top: "res4d_branch2b"
	name: "bn4d_branch2b"
	type: "BatchNorm"
  param {
    lr_mult: 0
    decay_mult: 0
  }
  param {
    lr_mult: 0
    decay_mult: 0
  }
  param {
    lr_mult: 0
    decay_mult: 0
  }
  batch_norm_param {
    use_global_stats: true
  }
}

layer {
	bottom: "res4d_branch2b"
	top: "res4d_branch2b"
	name: "scale4d_branch2b"
	type: "Scale"
  param {
    lr_mult: 0.1
  }
  param {
    lr_mult: 0.1
  }
	scale_param {
		bias_term: true
	}
}

layer {
	bottom: "res4d_branch2b"
	top: "res4d_branch2b"
	name: "res4d_branch2b_relu"
	type: "ReLU"
}

layer {
	bottom: "res4d_branch2b"
	top: "res4d_branch2c"
	name: "res4d_branch2c"
	type: "Convolution"
  param {
    lr_mult: 0.1
    decay_mult: 1
  }
	convolution_param {
		num_output: 1024
		kernel_size: 1
		pad: 0
		stride: 1
		bias_term: false
	}
}

layer {
	bottom: "res4d_branch2c"
	top: "res4d_branch2c"
	name: "bn4d_branch2c"
	type: "BatchNorm"
  param {
    lr_mult: 0
    decay_mult: 0
  }
  param {
    lr_mult: 0
    decay_mult: 0
  }
  param {
    lr_mult: 0
    decay_mult: 0
  }
  batch_norm_param {
    use_global_stats: true
  }
}

layer {
	bottom: "res4d_branch2c"
	top: "res4d_branch2c"
	name: "scale4d_branch2c"
	type: "Scale"
  param {
    lr_mult: 0.1
  }
  param {
    lr_mult: 0.1
  }
	scale_param {
		bias_term: true
	}
}

layer {
	bottom: "res4c"
	bottom: "res4d_branch2c"
	top: "res4d"
	name: "res4d"
	type: "Eltwise"
}

layer {
	bottom: "res4d"
	top: "res4d"
	name: "res4d_relu"
	type: "ReLU"
}

layer {
	bottom: "res4d"
	top: "res4e_branch2a"
	name: "res4e_branch2a"
	type: "Convolution"
  param {
    lr_mult: 0.1
    decay_mult: 1
  }
	convolution_param {
		num_output: 256
		kernel_size: 1
		pad: 0
		stride: 1
		bias_term: false
	}
}

layer {
	bottom: "res4e_branch2a"
	top: "res4e_branch2a"
	name: "bn4e_branch2a"
	type: "BatchNorm"
  param {
    lr_mult: 0
    decay_mult: 0
  }
  param {
    lr_mult: 0
    decay_mult: 0
  }
  param {
    lr_mult: 0
    decay_mult: 0
  }
  batch_norm_param {
    use_global_stats: true
  }
}

layer {
	bottom: "res4e_branch2a"
	top: "res4e_branch2a"
	name: "scale4e_branch2a"
	type: "Scale"
  param {
    lr_mult: 0.1
  }
  param {
    lr_mult: 0.1
  }
	scale_param {
		bias_term: true
	}
}

layer {
	bottom: "res4e_branch2a"
	top: "res4e_branch2a"
	name: "res4e_branch2a_relu"
	type: "ReLU"
}

layer {
	bottom: "res4e_branch2a"
	top: "res4e_branch2b"
	name: "res4e_branch2b"
	type: "Convolution"
  param {
    lr_mult: 0.1
    decay_mult: 1
  }
	convolution_param {
		num_output: 256
		kernel_size: 3
		pad: 2
		stride: 1
		dilation: 2
		bias_term: false
	}
}

layer {
	bottom: "res4e_branch2b"
	top: "res4e_branch2b"
	name: "bn4e_branch2b"
	type: "BatchNorm"
  param {
    lr_mult: 0
    decay_mult: 0
  }
  param {
    lr_mult: 0
    decay_mult: 0
  }
  param {
    lr_mult: 0
    decay_mult: 0
  }
  batch_norm_param {
    use_global_stats: true
  }
}

layer {
	bottom: "res4e_branch2b"
	top: "res4e_branch2b"
	name: "scale4e_branch2b"
	type: "Scale"
  param {
    lr_mult: 0.1
  }
  param {
    lr_mult: 0.1
  }
	scale_param {
		bias_term: true
	}
}

layer {
	bottom: "res4e_branch2b"
	top: "res4e_branch2b"
	name: "res4e_branch2b_relu"
	type: "ReLU"
}

layer {
	bottom: "res4e_branch2b"
	top: "res4e_branch2c"
	name: "res4e_branch2c"
	type: "Convolution"
  param {
    lr_mult: 0.1
    decay_mult: 1
  }
	convolution_param {
		num_output: 1024
		kernel_size: 1
		pad: 0
		stride: 1
		bias_term: false
	}
}

layer {
	bottom: "res4e_branch2c"
	top: "res4e_branch2c"
	name: "bn4e_branch2c"
	type: "BatchNorm"
  param {
    lr_mult: 0
    decay_mult: 0
  }
  param {
    lr_mult: 0
    decay_mult: 0
  }
  param {
    lr_mult: 0
    decay_mult: 0
  }
  batch_norm_param {
    use_global_stats: true
  }
}

layer {
	bottom: "res4e_branch2c"
	top: "res4e_branch2c"
	name: "scale4e_branch2c"
	type: "Scale"
  param {
    lr_mult: 0.1
  }
  param {
    lr_mult: 0.1
  }
	scale_param {
		bias_term: true
	}
}

layer {
	bottom: "res4d"
	bottom: "res4e_branch2c"
	top: "res4e"
	name: "res4e"
	type: "Eltwise"
}

layer {
	bottom: "res4e"
	top: "res4e"
	name: "res4e_relu"
	type: "ReLU"
}

layer {
	bottom: "res4e"
	top: "res4f_branch2a"
	name: "res4f_branch2a"
	type: "Convolution"
  param {
    lr_mult: 0.1
    decay_mult: 1
  }
	convolution_param {
		num_output: 256
		kernel_size: 1
		pad: 0
		stride: 1
		bias_term: false
	}
}

layer {
	bottom: "res4f_branch2a"
	top: "res4f_branch2a"
	name: "bn4f_branch2a"
	type: "BatchNorm"
  param {
    lr_mult: 0
    decay_mult: 0
  }
  param {
    lr_mult: 0
    decay_mult: 0
  }
  param {
    lr_mult: 0
    decay_mult: 0
  }
  batch_norm_param {
    use_global_stats: true
  }
}

layer {
	bottom: "res4f_branch2a"
	top: "res4f_branch2a"
	name: "scale4f_branch2a"
	type: "Scale"
  param {
    lr_mult: 0.1
  }
  param {
    lr_mult: 0.1
  }
	scale_param {
		bias_term: true
	}
}

layer {
	bottom: "res4f_branch2a"
	top: "res4f_branch2a"
	name: "res4f_branch2a_relu"
	type: "ReLU"
}

layer {
	bottom: "res4f_branch2a"
	top: "res4f_branch2b"
	name: "res4f_branch2b"
	type: "Convolution"
  param {
    lr_mult: 0.1
    decay_mult: 1
  }
	convolution_param {
		num_output: 256
		kernel_size: 3
		pad: 2
		stride: 1
		dilation: 2
		bias_term: false
	}
}

layer {
	bottom: "res4f_branch2b"
	top: "res4f_branch2b"
	name: "bn4f_branch2b"
	type: "BatchNorm"
  param {
    lr_mult: 0
    decay_mult: 0
  }
  param {
    lr_mult: 0
    decay_mult: 0
  }
  param {
    lr_mult: 0
    decay_mult: 0
  }
  batch_norm_param {
    use_global_stats: true
  }
}

layer {
	bottom: "res4f_branch2b"
	top: "res4f_branch2b"
	name: "scale4f_branch2b"
	type: "Scale"
  param {
    lr_mult: 0.1
  }
  param {
    lr_mult: 0.1
  }
	scale_param {
		bias_term: true
	}
}

layer {
	bottom: "res4f_branch2b"
	top: "res4f_branch2b"
	name: "res4f_branch2b_relu"
	type: "ReLU"
}

layer {
	bottom: "res4f_branch2b"
	top: "res4f_branch2c"
	name: "res4f_branch2c"
	type: "Convolution"
  param {
    lr_mult: 0.1
    decay_mult: 1
  }
	convolution_param {
		num_output: 1024
		kernel_size: 1
		pad: 0
		stride: 1
		bias_term: false
	}
}

layer {
	bottom: "res4f_branch2c"
	top: "res4f_branch2c"
	name: "bn4f_branch2c"
	type: "BatchNorm"
  param {
    lr_mult: 0
    decay_mult: 0
  }
  param {
    lr_mult: 0
    decay_mult: 0
  }
  param {
    lr_mult: 0
    decay_mult: 0
  }
  batch_norm_param {
    use_global_stats: true
  }
}

layer {
	bottom: "res4f_branch2c"
	top: "res4f_branch2c"
	name: "scale4f_branch2c"
	type: "Scale"
  param {
    lr_mult: 0.1
  }
  param {
    lr_mult: 0.1
  }
	scale_param {
		bias_term: true
	}
}

layer {
	bottom: "res4e"
	bottom: "res4f_branch2c"
	top: "res4f"
	name: "res4f"
	type: "Eltwise"
}

layer {
	bottom: "res4f"
	top: "res4f"
	name: "res4f_relu"
	type: "ReLU"
}

layer {
	bottom: "res4f"
	top: "res5a_branch1"
	name: "res5a_branch1"
	type: "Convolution"
  param {
    lr_mult: 0.1
    decay_mult: 1
  }
	convolution_param {
		num_output: 2048
		kernel_size: 1
		pad: 0
		stride: 1
		bias_term: false
	}
}

layer {
	bottom: "res5a_branch1"
	top: "res5a_branch1"
	name: "bn5a_branch1"
	type: "BatchNorm"
  param {
    lr_mult: 0
    decay_mult: 0
  }
  param {
    lr_mult: 0
    decay_mult: 0
  }
  param {
    lr_mult: 0
    decay_mult: 0
  }
  batch_norm_param {
    use_global_stats: true
  }
}

layer {
	bottom: "res5a_branch1"
	top: "res5a_branch1"
	name: "scale5a_branch1"
	type: "Scale"
  param {
    lr_mult: 0.1
  }
  param {
    lr_mult: 0.1
  }
	scale_param {
		bias_term: true
	}
}

layer {
	bottom: "res4f"
	top: "res5a_branch2a"
	name: "res5a_branch2a"
	type: "Convolution"
  param {
    lr_mult: 0.1
    decay_mult: 1
  }
	convolution_param {
		num_output: 512
		kernel_size: 1
		pad: 0
		stride: 1
		bias_term: false
	}
}

layer {
	bottom: "res5a_branch2a"
	top: "res5a_branch2a"
	name: "bn5a_branch2a"
	type: "BatchNorm"
  param {
    lr_mult: 0
    decay_mult: 0
  }
  param {
    lr_mult: 0
    decay_mult: 0
  }
  param {
    lr_mult: 0
    decay_mult: 0
  }
  batch_norm_param {
    use_global_stats: true
  }
}

layer {
	bottom: "res5a_branch2a"
	top: "res5a_branch2a"
	name: "scale5a_branch2a"
	type: "Scale"
  param {
    lr_mult: 0.1
  }
  param {
    lr_mult: 0.1
  }
	scale_param {
		bias_term: true
	}
}

layer {
	bottom: "res5a_branch2a"
	top: "res5a_branch2a"
	name: "res5a_branch2a_relu"
	type: "ReLU"
}

layer {
	bottom: "res5a_branch2a"
	top: "res5a_branch2b"
	name: "res5a_branch2b"
	type: "Convolution"
  param {
    lr_mult: 0.1
    decay_mult: 1
  }
	convolution_param {
		num_output: 512
		kernel_size: 3
		pad: 4
		stride: 1
		dilation: 4
		bias_term: false
	}
}

layer {
	bottom: "res5a_branch2b"
	top: "res5a_branch2b"
	name: "bn5a_branch2b"
	type: "BatchNorm"
  param {
    lr_mult: 0
    decay_mult: 0
  }
  param {
    lr_mult: 0
    decay_mult: 0
  }
  param {
    lr_mult: 0
    decay_mult: 0
  }
  batch_norm_param {
    use_global_stats: true
  }
}

layer {
	bottom: "res5a_branch2b"
	top: "res5a_branch2b"
	name: "scale5a_branch2b"
	type: "Scale"
  param {
    lr_mult: 0.1
  }
  param {
    lr_mult: 0.1
  }
	scale_param {
		bias_term: true
	}
}

layer {
	bottom: "res5a_branch2b"
	top: "res5a_branch2b"
	name: "res5a_branch2b_relu"
	type: "ReLU"
}

layer {
	bottom: "res5a_branch2b"
	top: "res5a_branch2c"
	name: "res5a_branch2c"
	type: "Convolution"
  param {
    lr_mult: 0.1
    decay_mult: 1
  }
	convolution_param {
		num_output: 2048
		kernel_size: 1
		pad: 0
		stride: 1
		bias_term: false
	}
}

layer {
	bottom: "res5a_branch2c"
	top: "res5a_branch2c"
	name: "bn5a_branch2c"
	type: "BatchNorm"
  param {
    lr_mult: 0
    decay_mult: 0
  }
  param {
    lr_mult: 0
    decay_mult: 0
  }
  param {
    lr_mult: 0
    decay_mult: 0
  }
  batch_norm_param {
    use_global_stats: true
  }
}

layer {
	bottom: "res5a_branch2c"
	top: "res5a_branch2c"
	name: "scale5a_branch2c"
	type: "Scale"
  param {
    lr_mult: 0.1
  }
  param {
    lr_mult: 0.1
  }
	scale_param {
		bias_term: true
	}
}

layer {
	bottom: "res5a_branch1"
	bottom: "res5a_branch2c"
	top: "res5a"
	name: "res5a"
	type: "Eltwise"
}

layer {
	bottom: "res5a"
	top: "res5a"
	name: "res5a_relu"
	type: "ReLU"
}

layer {
	bottom: "res5a"
	top: "res5b_branch2a"
	name: "res5b_branch2a"
	type: "Convolution"
  param {
    lr_mult: 0.1
    decay_mult: 1
  }
	convolution_param {
		num_output: 512
		kernel_size: 1
		pad: 0
		stride: 1
		bias_term: false
	}
}

layer {
	bottom: "res5b_branch2a"
	top: "res5b_branch2a"
	name: "bn5b_branch2a"
	type: "BatchNorm"
  param {
    lr_mult: 0
    decay_mult: 0
  }
  param {
    lr_mult: 0
    decay_mult: 0
  }
  param {
    lr_mult: 0
    decay_mult: 0
  }
  batch_norm_param {
    use_global_stats: true
  }
}

layer {
	bottom: "res5b_branch2a"
	top: "res5b_branch2a"
	name: "scale5b_branch2a"
	type: "Scale"
  param {
    lr_mult: 0.1
  }
  param {
    lr_mult: 0.1
  }
	scale_param {
		bias_term: true
	}
}

layer {
	bottom: "res5b_branch2a"
	top: "res5b_branch2a"
	name: "res5b_branch2a_relu"
	type: "ReLU"
}

layer {
	bottom: "res5b_branch2a"
	top: "res5b_branch2b"
	name: "res5b_branch2b"
	type: "Convolution"
  param {
    lr_mult: 0.1
    decay_mult: 1
  }
	convolution_param {
		num_output: 512
		kernel_size: 3
		pad: 4
		stride: 1
		dilation: 4
		bias_term: false
	}
}

layer {
	bottom: "res5b_branch2b"
	top: "res5b_branch2b"
	name: "bn5b_branch2b"
	type: "BatchNorm"
  param {
    lr_mult: 0
    decay_mult: 0
  }
  param {
    lr_mult: 0
    decay_mult: 0
  }
  param {
    lr_mult: 0
    decay_mult: 0
  }
  batch_norm_param {
    use_global_stats: true
  }
}

layer {
	bottom: "res5b_branch2b"
	top: "res5b_branch2b"
	name: "scale5b_branch2b"
	type: "Scale"
  param {
    lr_mult: 0.1
  }
  param {
    lr_mult: 0.1
  }
	scale_param {
		bias_term: true
	}
}

layer {
	bottom: "res5b_branch2b"
	top: "res5b_branch2b"
	name: "res5b_branch2b_relu"
	type: "ReLU"
}

layer {
	bottom: "res5b_branch2b"
	top: "res5b_branch2c"
	name: "res5b_branch2c"
	type: "Convolution"
  param {
    lr_mult: 0.1
    decay_mult: 1
  }
	convolution_param {
		num_output: 2048
		kernel_size: 1
		pad: 0
		stride: 1
		bias_term: false
	}
}

layer {
	bottom: "res5b_branch2c"
	top: "res5b_branch2c"
	name: "bn5b_branch2c"
	type: "BatchNorm"
  param {
    lr_mult: 0
    decay_mult: 0
  }
  param {
    lr_mult: 0
    decay_mult: 0
  }
  param {
    lr_mult: 0
    decay_mult: 0
  }
  batch_norm_param {
    use_global_stats: true
  }
}


layer {
	bottom: "res5b_branch2c"
	top: "res5b_branch2c"
	name: "scale5b_branch2c"
	type: "Scale"
  param {
    lr_mult: 0.1
  }
  param {
    lr_mult: 0.1
  }
	scale_param {
		bias_term: true
	}
}

layer {
	bottom: "res5a"
	bottom: "res5b_branch2c"
	top: "res5b"
	name: "res5b"
	type: "Eltwise"
}

layer {
	bottom: "res5b"
	top: "res5b"
	name: "res5b_relu"
	type: "ReLU"
}

layer {
	bottom: "res5b"
	top: "res5c_branch2a"
	name: "res5c_branch2a"
	type: "Convolution"
  param {
    lr_mult: 0.1
    decay_mult: 1
  }
	convolution_param {
		num_output: 512
		kernel_size: 1
		pad: 0
		stride: 1
		bias_term: false
	}
}

layer {
	bottom: "res5c_branch2a"
	top: "res5c_branch2a"
	name: "bn5c_branch2a"
	type: "BatchNorm"
  param {
    lr_mult: 0
    decay_mult: 0
  }
  param {
    lr_mult: 0
    decay_mult: 0
  }
  param {
    lr_mult: 0
    decay_mult: 0
  }
  batch_norm_param {
    use_global_stats: true
  }
}

layer {
	bottom: "res5c_branch2a"
	top: "res5c_branch2a"
	name: "scale5c_branch2a"
	type: "Scale"
  param {
    lr_mult: 0.1
  }
  param {
    lr_mult: 0.1
  }
	scale_param {
		bias_term: true
	}
}

layer {
	bottom: "res5c_branch2a"
	top: "res5c_branch2a"
	name: "res5c_branch2a_relu"
	type: "ReLU"
}

layer {
	bottom: "res5c_branch2a"
	top: "res5c_branch2b"
	name: "res5c_branch2b"
	type: "Convolution"
  param {
    lr_mult: 0.1
    decay_mult: 1
  }
	convolution_param {
		num_output: 512
		kernel_size: 3
		pad: 4
		stride: 1
		dilation: 4
		bias_term: false
	}
}

layer {
	bottom: "res5c_branch2b"
	top: "res5c_branch2b"
	name: "bn5c_branch2b"
	type: "BatchNorm"
  param {
    lr_mult: 0
    decay_mult: 0
  }
  param {
    lr_mult: 0
    decay_mult: 0
  }
  param {
    lr_mult: 0
    decay_mult: 0
  }
  batch_norm_param {
    use_global_stats: true
  }
}

layer {
	bottom: "res5c_branch2b"
	top: "res5c_branch2b"
	name: "scale5c_branch2b"
	type: "Scale"
  param {
    lr_mult: 0.1
  }
  param {
    lr_mult: 0.1
  }
	scale_param {
		bias_term: true
	}
}

layer {
	bottom: "res5c_branch2b"
	top: "res5c_branch2b"
	name: "res5c_branch2b_relu"
	type: "ReLU"
}

layer {
	bottom: "res5c_branch2b"
	top: "res5c_branch2c"
	name: "res5c_branch2c"
	type: "Convolution"
  param {
    lr_mult: 0.1
    decay_mult: 1
  }
	convolution_param {
		num_output: 2048
		kernel_size: 1
		pad: 0
		stride: 1
		bias_term: false
	}
}

layer {
	bottom: "res5c_branch2c"
	top: "res5c_branch2c"
	name: "bn5c_branch2c"
	type: "BatchNorm"
  param {
    lr_mult: 0
    decay_mult: 0
  }
  param {
    lr_mult: 0
    decay_mult: 0
  }
  param {
    lr_mult: 0
    decay_mult: 0
  }
  batch_norm_param {
    use_global_stats: true
  }
}

layer {
	bottom: "res5c_branch2c"
	top: "res5c_branch2c"
	name: "scale5c_branch2c"
	type: "Scale"
  param {
    lr_mult: 0.1
  }
  param {
    lr_mult: 0.1
  }
	scale_param {
		bias_term: true
	}
}

layer {
	bottom: "res5b"
	bottom: "res5c_branch2c"
	top: "res5c"
	name: "res5c"
	type: "Eltwise"
}

layer {
	bottom: "res5c"
	top: "res5c"
	name: "res5c_relu"
	type: "ReLU"
}
layer {
  name: "conv4_g"
  type: "Convolution"
  bottom: "res4f"
  top: "conv4_g"
  param {
    lr_mult: 1
    decay_mult: 1
  }
  param {
    lr_mult: 2
    decay_mult: 0
  }
  convolution_param {
    num_output: 512
    kernel_size: 1
    weight_filler {
      type: "gaussian"
      std: 0.01
	  #type: "msra"
    }
  }
}
layer {
  name: "relu4_g"
  type: "ReLU"
  bottom: "conv4_g"
  top: "conv4_g"
}
layer {
  name: "conv5_d"
  type: "Convolution"
  bottom: "res5c"
  top: "conv5_d"
  param {
    lr_mult: 1
    decay_mult: 1
  }
  param {
    lr_mult: 2
    decay_mult: 0
  }
  convolution_param {
    num_output: 512
    kernel_size: 1
    weight_filler {
      type: "gaussian"
      std: 0.01
	  #type: "msra"
    }
  }
}
layer {
  name: "relu5_d"
  type: "ReLU"
  bottom: "conv5_d"
  top: "conv5_d"
}
layer {
  name: "conv4_g_norm"
  type: "Normalize"
  bottom: "conv4_g"
  top: "conv4_g_norm"
  param {
    lr_mult: 1
  }
  norm_param {
    #fix_scale: true
	across_spatial: true
	channel_shared: true
    scale_filler{
      type: "constant"
	  value: 400
    }
  }
}
layer {
  name: "conv5_d_norm"
  type: "Normalize"
  bottom: "conv5_d"
  top: "conv5_d_norm"
  param {
    lr_mult: 1
  }
  norm_param {
    #fix_scale: true
	across_spatial: true
	channel_shared: true
    scale_filler{
      type: "constant"
	  value: 400
    }
  }
}
layer {
  name: "Fm_conc"
  type: "Concat"
  bottom: "conv4_g_norm"
  bottom: "conv5_d_norm"
  top: "Fm_conc"
  concat_param {
    axis: 1
  }
}
layer {
  name: "conv_fm"
  type: "Convolution"
  bottom: "Fm_conc"
  top: "conv_fm"
  param {
    lr_mult: 1
    decay_mult: 1
  }
  param {
    lr_mult: 2
    decay_mult: 0
  }
  convolution_param {
    num_output: 512
    kernel_size: 1
    weight_filler {
      type: "gaussian"
      std: 0.01
	  #type: "msra"
    }
  }
}
layer {
  name: "relu_fm"
  type: "ReLU"
  bottom: "conv_fm"
  top: "conv_fm"
}
layer {
  name: "NormalizedFm"
  type: "Normalize"
  bottom: "conv_fm"
  top: "NormalizedFm1"
  param {
    lr_mult: 1
  }
  norm_param {
    across_spatial: true
    channel_shared: true
    scale_filler {
      type: "constant"
      value: 400
    }
  }
}
layer {
  name: "global_feature_ip"
  type: "InnerProduct"
  bottom: "pool5_s"
  top: "global_feature_ip"
  param {
    lr_mult: 1
    decay_mult: 1
  }
  param {
    lr_mult: 2
    decay_mult: 0
  }
  inner_product_param {
    num_output: 128
    weight_filler {
      type: "msra"
	  #std: 0.001
    }
    bias_filler {
      type: "constant"
    }
  }
}
layer {
  name: "global_feature_actv"
  type: "ReLU"
  bottom: "global_feature_ip"
  top: "global_feature_ip"
}
layer {
  name: "global_feature_reshape"
  type: "Reshape"
  bottom: "global_feature_ip"
  top: "global_feature_reshape"
  reshape_param {
    shape {
      dim: 0
      dim: 128
      dim: 1
      dim: 1
    }
  }
}
layer {
  name: "global_feature"
  type: "Normalize"
  bottom: "global_feature_reshape"
  top: "global_feature"
  param {
    lr_mult: 1
  }
  norm_param {
    across_spatial: true
    channel_shared: true
    scale_filler {
      type: "constant"
      value: 9
    }
  }
}
layer {
  name: "context_row_raw"
  type: "Deconvolution"
  bottom: "global_feature"
  top: "context_row_raw"
  param {
    lr_mult: 0
    decay_mult: 0
  }
  convolution_param {
    num_output: 128
    bias_term: false
    kernel_h: 120
	kernel_w: 1
    group: 128
    weight_filler {
      type: "constant"
	  value: 1
    }
  }
}
layer {
  name: "context_row_format"
  type: "SRNNFormat"
  bottom: "context_row_raw"
  top: "context_row_format"
  top: "context_row1"
  top: "context_row2"
  srnnformat_param {
    operation: FORMAT
  }
}
layer {
  name: "context_row1_silence"
  type: "Silence"
  bottom: "context_row1"
}
layer {
  name: "context_row2_silence"
  type: "Silence"
  bottom: "context_row2"
}
layer {
  name: "context_row"
  type: "Reshape"
  bottom: "context_row_format"
  top: "context_row"
  reshape_param {
    shape {
      dim: -1
      dim: 128
    }
  }
}
layer {
  name: "context_col_raw"
  type: "Deconvolution"
  bottom: "global_feature"
  top: "context_col_raw"
  param {
    lr_mult: 0
    decay_mult: 0
  }
  convolution_param {
    num_output: 128
    bias_term: false
    kernel_h: 160
	kernel_w: 1
    group: 128
    weight_filler {
      type: "constant"
	  value: 1
    }
  }
}
layer {
  name: "context_col_format"
  type: "SRNNFormat"
  bottom: "context_col_raw"
  top: "context_col_format"
  top: "context_col1"
  top: "context_col2"
  srnnformat_param {
    operation: FORMAT
  }
}
layer {
  name: "context_col1_silence"
  type: "Silence"
  bottom: "context_col1"
}
layer {
  name: "context_col2_silence"
  type: "Silence"
  bottom: "context_col2"
}
layer {
  name: "context_col"
  type: "Reshape"
  bottom: "context_col_format"
  top: "context_col"
  reshape_param {
    shape {
      dim: -1
      dim: 128
    }
  }
}
#NormalizedFm1 spatial LSTM 1
layer {
  name: "NormalizedFm1_row_mirror"
  type: "SpatialTransformer"
  bottom: "NormalizedFm1"
  top: "NormalizedFm1_row_mirror"
  spatialtransformer_param {
    mirror: true
    operation: TRANSFORM
  }
}
layer {
  name: "NormalizedFm1_row_bi"
  type: "Concat"
  bottom: "NormalizedFm1"
  bottom: "NormalizedFm1_row_mirror"
  top: "NormalizedFm1_row_bi"
  concat_param {
    axis: 2
  }
}
layer {
  name: "NormalizedFm1_row_format"
  type: "SRNNFormat"
  bottom: "NormalizedFm1_row_bi"
  top: "NormalizedFm1_row_format"
  top: "NormalizedFm1_row_indicator"
  top: "NormalizedFm1_row_streamsize"
  srnnformat_param {
    operation: FORMAT
  }
}
layer {
  name: "NormalizedFm1_row_rnn"
  type: "LSTM"
  bottom: "NormalizedFm1_row_format"
  bottom: "NormalizedFm1_row_indicator"
  bottom: "context_row"
  top: "NormalizedFm1_row_rnn"
  param {
    lr_mult: 1
    decay_mult: 1
  }
  param {
    lr_mult: 2
    decay_mult: 0
  }
  propagate_down: true
  propagate_down: false
  propagate_down: true
  recurrent_param {
    num_output: 128
    weight_filler {
      type: "uniform"
      min: -0.2
      max: 0.2
    }
    bias_filler {
      type: "constant"
      value: 0
    }
    lstm_additional_forget_bias: 1
	static_input_only_start: true
  }
}
layer {
  name: "NormalizedFm1_row_rnn_unformat"
  type: "SRNNFormat"
  bottom: "NormalizedFm1_row_rnn"
  bottom: "NormalizedFm1_row_streamsize"
  top: "NormalizedFm1_row_rnn_unformat"
  propagate_down: true
  propagate_down: false
  srnnformat_param {
    operation: UNFORMAT
  }
}
layer {
  name: "NormalizedFm1_row_rnn_slice"
  type: "Slice"
  bottom: "NormalizedFm1_row_rnn_unformat"
  top: "NormalizedFm1_row1_rnn"
  top: "NormalizedFm1_row2_rnn"
  slice_param {
    axis: 2
  }
}
layer {
  name: "NormalizedFm1_row2_rnn_untransform"
  type: "SpatialTransformer"
  bottom: "NormalizedFm1_row2_rnn"
  top: "NormalizedFm1_row2_rnn_untransform"
  spatialtransformer_param {
    mirror: true
    operation: UNTRANSFORM
  }
}
layer {
  name: "NormalizedFm1_row_birnn"
  type: "Concat"
  bottom: "NormalizedFm1_row1_rnn"
  bottom: "NormalizedFm1_row2_rnn_untransform"
  top: "NormalizedFm1_row_birnn"
  concat_param {
    axis: 1
  }
}
layer {
  name: "NormalizedFm1_col"
  type: "SpatialTransformer"
  bottom: "NormalizedFm1_row_birnn"
  top: "NormalizedFm1_col"
  spatialtransformer_param {
    mirror: false
    rotate: ROTATE90
    operation: TRANSFORM
  }
}
layer {
  name: "NormalizedFm1_col_mirror"
  type: "SpatialTransformer"
  bottom: "NormalizedFm1_row_birnn"
  top: "NormalizedFm1_col_mirror"
  spatialtransformer_param {
    mirror: true
    rotate: ROTATE90
    operation: TRANSFORM
  }
}
layer {
  name: "NormalizedFm1_col_bi"
  type: "Concat"
  bottom: "NormalizedFm1_col"
  bottom: "NormalizedFm1_col_mirror"
  top: "NormalizedFm1_col_bi"
  concat_param {
    axis: 2
  }
}
layer {
  name: "NormalizedFm1_col_format"
  type: "SRNNFormat"
  bottom: "NormalizedFm1_col_bi"
  top: "NormalizedFm1_col_format"
  top: "NormalizedFm1_col_indicator"
  top: "NormalizedFm1_col_streamsize"
  srnnformat_param {
    operation: FORMAT
  }
}
layer {
  name: "NormalizedFm1_col_rnn"
  type: "LSTM"
  bottom: "NormalizedFm1_col_format"
  bottom: "NormalizedFm1_col_indicator"
  bottom: "context_col"
  top: "NormalizedFm1_col_rnn"
  param {
    lr_mult: 1
    decay_mult: 1
  }
  param {
    lr_mult: 2
    decay_mult: 0
  }
  propagate_down: true
  propagate_down: false
  propagate_down: true
  recurrent_param {
    num_output: 128
    weight_filler {
      type: "uniform"
      min: -0.2
      max: 0.2
    }
    bias_filler {
      type: "constant"
      value: 0
    }
    lstm_additional_forget_bias: 1
	static_input_only_start: true
  }
}
layer {
  name: "NormalizedFm1_col_rnn_unformat"
  type: "SRNNFormat"
  bottom: "NormalizedFm1_col_rnn"
  bottom: "NormalizedFm1_col_streamsize"
  top: "NormalizedFm1_col_rnn_unformat"
  propagate_down: true
  propagate_down: false
  srnnformat_param {
    operation: UNFORMAT
  }
}
layer {
  name: "NormalizedFm1_col_rnn_slice"
  type: "Slice"
  bottom: "NormalizedFm1_col_rnn_unformat"
  top: "NormalizedFm1_col1_rnn"
  top: "NormalizedFm1_col2_rnn"
  slice_param {
    axis: 2
  }
}
layer {
  name: "NormalizedFm1_col1_rnn_untransform"
  type: "SpatialTransformer"
  bottom: "NormalizedFm1_col1_rnn"
  top: "NormalizedFm1_col1_rnn_untransform"
  spatialtransformer_param {
    mirror: false
    rotate: ROTATE90
    operation: UNTRANSFORM
  }
}
layer {
  name: "NormalizedFm1_col2_rnn_untransform"
  type: "SpatialTransformer"
  bottom: "NormalizedFm1_col2_rnn"
  top: "NormalizedFm1_col2_rnn_untransform"
  spatialtransformer_param {
    mirror: true
    rotate: ROTATE90
    operation: UNTRANSFORM
  }
}
layer {
  name: "NormalizedFm1_srnn"
  type: "Concat"
  bottom: "NormalizedFm1_col1_rnn_untransform"
  bottom: "NormalizedFm1_col2_rnn_untransform"
  top: "NormalizedFm1_srnn1"
  concat_param {
    axis: 1
  }
}
#NormalizedFm1 spatial LSTM 1 end
#NormalizedFm1 spatial LSTM 2
layer {
  name: "NormalizedFm1_srnn1_row_mirror"
  type: "SpatialTransformer"
  bottom: "NormalizedFm1_srnn1"
  top: "NormalizedFm1_srnn1_row_mirror"
  spatialtransformer_param {
    mirror: true
    operation: TRANSFORM
  }
}
layer {
  name: "NormalizedFm1_srnn1_row_bi"
  type: "Concat"
  bottom: "NormalizedFm1_srnn1"
  bottom: "NormalizedFm1_srnn1_row_mirror"
  top: "NormalizedFm1_srnn1_row_bi"
  concat_param {
    axis: 2
  }
}
layer {
  name: "NormalizedFm1_srnn1_row_format"
  type: "SRNNFormat"
  bottom: "NormalizedFm1_srnn1_row_bi"
  top: "NormalizedFm1_srnn1_row_format"
  top: "NormalizedFm1_srnn1_row_indicator"
  top: "NormalizedFm1_srnn1_row_streamsize"
  srnnformat_param {
    operation: FORMAT
  }
}
layer {
  name: "NormalizedFm1_srnn1_row_rnn"
  type: "LSTM"
  bottom: "NormalizedFm1_srnn1_row_format"
  bottom: "NormalizedFm1_srnn1_row_indicator"
  bottom: "context_row"
  top: "NormalizedFm1_srnn1_row_rnn"
  param {
    lr_mult: 1
    decay_mult: 1
  }
  param {
    lr_mult: 2
    decay_mult: 0
  }
  propagate_down: true
  propagate_down: false
  propagate_down: true
  recurrent_param {
    num_output: 128
    weight_filler {
      type: "uniform"
      min: -0.2
      max: 0.2
    }
    bias_filler {
      type: "constant"
      value: 0
    }
    lstm_additional_forget_bias: 1
	static_input_only_start: true
  }
}
layer {
  name: "NormalizedFm1_srnn1_row_rnn_unformat"
  type: "SRNNFormat"
  bottom: "NormalizedFm1_srnn1_row_rnn"
  bottom: "NormalizedFm1_srnn1_row_streamsize"
  top: "NormalizedFm1_srnn1_row_rnn_unformat"
  propagate_down: true
  propagate_down: false
  srnnformat_param {
    operation: UNFORMAT
  }
}
layer {
  name: "NormalizedFm1_srnn1_row_rnn_slice"
  type: "Slice"
  bottom: "NormalizedFm1_srnn1_row_rnn_unformat"
  top: "NormalizedFm1_srnn1_row1_rnn"
  top: "NormalizedFm1_srnn1_row2_rnn"
  slice_param {
    axis: 2
  }
}
layer {
  name: "NormalizedFm1_srnn1_row2_rnn_untransform"
  type: "SpatialTransformer"
  bottom: "NormalizedFm1_srnn1_row2_rnn"
  top: "NormalizedFm1_srnn1_row2_rnn_untransform"
  spatialtransformer_param {
    mirror: true
    operation: UNTRANSFORM
  }
}
layer {
  name: "NormalizedFm1_srnn1_row_birnn"
  type: "Concat"
  bottom: "NormalizedFm1_srnn1_row1_rnn"
  bottom: "NormalizedFm1_srnn1_row2_rnn_untransform"
  top: "NormalizedFm1_srnn1_row_birnn"
  concat_param {
    axis: 1
  }
}
layer {
  name: "NormalizedFm1_srnn1_col"
  type: "SpatialTransformer"
  bottom: "NormalizedFm1_srnn1_row_birnn"
  top: "NormalizedFm1_srnn1_col"
  spatialtransformer_param {
    mirror: false
    rotate: ROTATE90
    operation: TRANSFORM
  }
}
layer {
  name: "NormalizedFm1_srnn1_col_mirror"
  type: "SpatialTransformer"
  bottom: "NormalizedFm1_srnn1_row_birnn"
  top: "NormalizedFm1_srnn1_col_mirror"
  spatialtransformer_param {
    mirror: true
    rotate: ROTATE90
    operation: TRANSFORM
  }
}
layer {
  name: "NormalizedFm1_srnn1_col_bi"
  type: "Concat"
  bottom: "NormalizedFm1_srnn1_col"
  bottom: "NormalizedFm1_srnn1_col_mirror"
  top: "NormalizedFm1_srnn1_col_bi"
  concat_param {
    axis: 2
  }
}
layer {
  name: "NormalizedFm1_srnn1_col_format"
  type: "SRNNFormat"
  bottom: "NormalizedFm1_srnn1_col_bi"
  top: "NormalizedFm1_srnn1_col_format"
  top: "NormalizedFm1_srnn1_col_indicator"
  top: "NormalizedFm1_srnn1_col_streamsize"
  srnnformat_param {
    operation: FORMAT
  }
}
layer {
  name: "NormalizedFm1_srnn1_col_rnn"
  type: "LSTM"
  bottom: "NormalizedFm1_srnn1_col_format"
  bottom: "NormalizedFm1_srnn1_col_indicator"
  bottom: "context_col"
  top: "NormalizedFm1_srnn1_col_rnn"
  param {
    lr_mult: 1
    decay_mult: 1
  }
  param {
    lr_mult: 2
    decay_mult: 0
  }
  propagate_down: true
  propagate_down: false
  propagate_down: true
  recurrent_param {
    num_output: 128
    weight_filler {
      type: "uniform"
      min: -0.2
      max: 0.2
    }
    bias_filler {
      type: "constant"
      value: 0
    }
    lstm_additional_forget_bias: 1
	static_input_only_start: true
  }
}
layer {
  name: "NormalizedFm1_srnn1_col_rnn_unformat"
  type: "SRNNFormat"
  bottom: "NormalizedFm1_srnn1_col_rnn"
  bottom: "NormalizedFm1_srnn1_col_streamsize"
  top: "NormalizedFm1_srnn1_col_rnn_unformat"
  propagate_down: true
  propagate_down: false
  srnnformat_param {
    operation: UNFORMAT
  }
}
layer {
  name: "NormalizedFm1_srnn1_col_rnn_slice"
  type: "Slice"
  bottom: "NormalizedFm1_srnn1_col_rnn_unformat"
  top: "NormalizedFm1_srnn1_col1_rnn"
  top: "NormalizedFm1_srnn1_col2_rnn"
  slice_param {
    axis: 2
  }
}
layer {
  name: "NormalizedFm1_srnn1_col1_rnn_untransform"
  type: "SpatialTransformer"
  bottom: "NormalizedFm1_srnn1_col1_rnn"
  top: "NormalizedFm1_srnn1_col1_rnn_untransform"
  spatialtransformer_param {
    mirror: false
    rotate: ROTATE90
    operation: UNTRANSFORM
  }
}
layer {
  name: "NormalizedFm1_srnn1_col2_rnn_untransform"
  type: "SpatialTransformer"
  bottom: "NormalizedFm1_srnn1_col2_rnn"
  top: "NormalizedFm1_srnn1_col2_rnn_untransform"
  spatialtransformer_param {
    mirror: true
    rotate: ROTATE90
    operation: UNTRANSFORM
  }
}
layer {
  name: "NormalizedFm1_srnn1_srnn"
  type: "Concat"
  bottom: "NormalizedFm1_srnn1_col1_rnn_untransform"
  bottom: "NormalizedFm1_srnn1_col2_rnn_untransform"
  top: "NormalizedFm1_srnn2"
  concat_param {
    axis: 1
  }
}
#NormalizedFm1 spatial LSTM 2 end
layer {
  name: "rnn_FCN7"
  type: "Convolution"
  bottom: "NormalizedFm1_srnn2"
  top: "FCN7"
  param {
    lr_mult: 1
    decay_mult: 1
  }
  param {
    lr_mult: 2
    decay_mult: 0
  }
  convolution_param {
    num_output: 1
    kernel_size: 1
    weight_filler {
      type: "xavier"
    }
    bias_filler {
      type: "constant"
    }
  }
}
#layer {
#  name: "FCN7_reshape"
#  type: "Reshape"
#  bottom: "FCN7"
#  top: "FCN7_reshape"
#  reshape_param {
#    shape {
#      dim: 0
#      dim: 4800
#    }
#  }
#}
#layer {
#  name: "sm_softmax"
#  type: "Softmax"
#  bottom: "FCN7_reshape"
#  top: "sm_softmax"
#}
#layer {
#  name: "sm"
#  type: "Reshape"
#  bottom: "sm_softmax"
#  top: "sm"
#  reshape_param {
#    shape {
#      dim: 0
#      dim: 1
#      dim: 60
#      dim: 80
#    }
#  }
#}
#layer {
#  name: "upsample"
#  type: "Deconvolution"
#  bottom: "sm"
#  top: "upsampledSm"
#  param {
#    lr_mult: 0
#    decay_mult: 0
#  }
#  convolution_param {
#    num_output: 1
#    bias_term: false
#    pad: 4
#    kernel_size: 16
#    group: 1
#    stride: 8
#    weight_filler {
#      type: "bilinear"
#    }
#  }
#}
#layer {
#  name: "loss"
#  type: "KLDivLoss"
#  bottom: "upsampledSm"
#  bottom: "fix"
#  top: "loss"
#}
layer {
  name: "sm"
  type: "Sigmoid"
  bottom: "FCN7"
  top: "sm"
}
layer {
  name: "upsample"
  type: "Deconvolution"
  bottom: "sm"
  top: "upsampledSm"
  param {
    lr_mult: 0
    decay_mult: 0
  }
  convolution_param {
    num_output: 1
    bias_term: false
    pad: 4
    kernel_size: 16
    group: 1
    stride: 8
    weight_filler {
      type: "bilinear"
    }
  }
}
layer {
  name: "normalzied_sm"
  type: "MVN"
  bottom: "upsampledSm"
  top: "normalzied_sm"
}
layer {
  name: "loss"
  type: "NSSLoss"
  bottom: "normalzied_sm"
  bottom: "fix"
  top: "loss"
}